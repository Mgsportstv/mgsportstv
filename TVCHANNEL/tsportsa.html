


<html>
<head>
<title>Player - AYNA OTT - POWERED BY NAYEEM PARVEZ</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<link rel="stylesheet" href="player.css?v=1734163674"/>
<link rel="shortcut icon" href="https://i.postimg.cc/52HM4Z7s/favicon-32x32.png"/>
<script src="https://content.jwplatform.com/libraries/IDzF9Zmk.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert2/11.10.4/sweetalert2.css" integrity="sha512-n1PBkhxQLVIma0hnm731gu/40gByOeBjlm5Z/PgwNxhJnyW1wYG8v7gPJDT6jpk0cMHfL8vUGUVjz3t4gXyZYQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<style>
body {
  overflow: hidden;
}
</style>
</head>

<body>
<div id="loading" class="loading">
      <div style="" class="loading-text">
        <span style="" class="loading-text-words">N</span>
        <span style="" class="loading-text-words">A</span>
        <span style="" class="loading-text-words">Y</span>
        <span style="" class="loading-text-words">E</span>
        <span style="" class="loading-text-words">E</span>
        <span style="" class="loading-text-words">M</span>
        <span style="" class="loading-text-words">-</span>
        <span style="" class="loading-text-words">P</span>
        <span style="" class="loading-text-words">A</span>
<span style="" class="loading-text-words">R</span>
        <span style="" class="loading-text-words">V</span>
        <span style="" class="loading-text-words">E</span>
<span style="" class="loading-text-words">Z</span>
      </div>
    </div>
    <div id="vplayer" style="height: auto; text-align: center;"></div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert2/11.10.4/sweetalert2.all.min.js" integrity="sha512-lTaUIREPGkPIN75aQtSK7bEt6w/YhlsMjWhhJ0X2LNTXySpI10ZPsz+lmcuz2BP7/WGBjAwbnavUhK4Yb3X13Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
let Ajax_API = "iptvApp.php";
$(document).ready(function(){
  player_details();
});
function player_details()
{
  let encodedID = getParameterByName("watch");
  if(encodedID == "" || encodedID == null || encodedID == undefined) {
    window.location = "?home";
  }
  else {
    getIPAddressAPIS();
  }
}
function getIPAddressAPIS()
{
  $.ajax({
    "url": Ajax_API,
    "type": "POST",
    "data": "request=get_ipaddress_apis",
    "success":function(data) {
      try { data = JSON.parse(data); }catch(err){}
      if(data.status == "success")
      {
        get_user_ip_a(data.data[0], data.data[1]);
      }
      else
      {
        alert("Error: Failed To Initiate WebPlayback");
      }
    },
    "error":function(data) {
      alert("Error: Server Error or Network Failed while Starting WebApp");
    }
  });
}
function get_user_ip_a(ipaddressapi1, ipaddressapi2)
{
  $.ajax({
    "url": ipaddressapi1,
    "type": "GET",
    "success":function(data) {
      try { data = JSON.parse(data); }catch(err){}
      if(data['ip'] !== "" && data['ip'] !== null && data['ip'] !== undefined)
      {
        getChannelURLToPlay(data['ip']);
      }
      else
      {
        get_user_ip_b(ipaddressapi2);
      }
    },
    "error": function(data) {
      get_user_ip_b(ipaddressapi2);
    }
  });
}
function get_user_ip_b(api)
{
  $.ajax({
    "url": api,
    "type": "GET",
    "success":function(data) {
      try { data = JSON.parse(data); }catch(err){}
      if(data['ip'] !== "" && data['ip'] !== null && data['ip'] !== undefined)
      {
        getChannelURLToPlay(data['ip']);
      }
      else
      {
        alert("Error: Server Error or Network Failed");
      }
    },
    "error": function(data) {
      alert("Error: Server Error or Network Failed");
    }
  });
}
function getChannelURLToPlay(ipaddress)
{
  encodedID = getParameterByName("watch");
  $.ajax({
    "url": "iptvApp.php",
    "type": "POST",
    "data": "request=get_channel_details&id=" + encodedID + "&ip=" + ipaddress,
    "success": function(data)
    {
      try { data = JSON.parse(data); }catch(err){}
      if(data.status == "success")
      {
        attach_player(data.data.playurl, data.data.logo);
        document.title = data.data.title + " [Live] - AYNA OTT - POWERED BY NAYEEM PARVEZ";
      }
      $("body").fadeIn();
    },
    "error": function(data)
    {
                alert("API Error");
    }
  });
}
function attach_player(playurl, logo)
{
    window.setTimeout(function(){ $("#loading").fadeOut(); }, 1500);
    jwplayer("vplayer").setup(
    {
        sources:
        [
            { file:playurl}
        ],
        autostart: false,
        width:"100%",
        image: logo,
        height:"auto",
        stretching:"uniform",
        duration:"",
        preload:"metadata",
        androidhls:"true",
        hlshtml:"false",
        primary:"html5",
        startparam:"start",
        playbackRateControls:[0.25,0.5,0.75,1,1.25,1.5,2],
        logo:
        {
            file:"",
            link:"",
            position:"top-right",
            margin:"5",
            hide:true
        }
    });
    jwplayer().play();
}

function attach_player_dash(playurl, drmurl, poster)
{
    window.setTimeout(function(){ $("#loading").fadeOut(); }, 1500);
  jwplayer("vplayer").setup(
   {
  "playlist": [
    {
      "sources": [
        {
          "default": false,
          "type": "mpd",
          "file": playurl,
          "drm": {
            "widevine": {
              "url": drmurl
            }
          },
          "label": "0"
        }
      ]
    }
  ],
  "logo":
    {
        "file": poster,
        "hide": true,
        "position": 'top-right'
    },
  "primary": "html5",
  "hlshtml": true,
  "image": poster,
  "autostart": false,
  "playbackRateControls":[0.25,0.5,0.75,1,1.25,1.5,2],
    });
    jwplayer().play();
}


function getParameterByName(name)
{
    name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
    var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
    results = regex.exec(decodeURIComponent(location.search));
    return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
}
</script>
</body>

</html>

